<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QnA 게시판</title>
    <link rel="stylesheet" href="common.css">
    <style>
        /* QnA 페이지 전용 스타일 */
        .qna-container {
            width: 80%;
            margin: 150px auto; /* 상단 메뉴바와의 간격 */
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .qna-item {
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fff;
        }

        .qna-item h3 {
            margin: 0;
            font-size: 18px;
            color: #333;
        }

        .qna-item p {
            margin: 5px 0;
            font-size: 14px;
            color: #666;
        }

        .qna-item .answer {
            color: #007bff;
            font-weight: bold;
        }
    </style>
    <script>
        async function loadQnAs() {
            try {
                const response = await fetch('load_aqns.jsp');
                const data = await response.json();

                if (data.success) {
                    const qnaContainer = document.getElementById('qna-container');
                    qnaContainer.innerHTML = ''; // 기존 내용 초기화

                    data.qnas.forEach(qna => {
                        const qnaElement = document.createElement('div');
                        qnaElement.className = 'qna-item';
                        qnaElement.innerHTML = `
                            <h3>${qna.title}</h3>
                            <p>작성자: ${qna.asker_name}</p>
                            <p>${qna.content}</p>
                            <p>작성일: ${qna.created_at}</p>
                            ${qna.answerer_name !== "미답변"
                                ? `<p class="answer">답변자: ${qna.answerer_name} (답변일: ${qna.answered_at})</p>`
                                : `<p class="answer">미답변</p>`}
                        `;
                        qnaContainer.appendChild(qnaElement);
                    });
                } else {
                    console.error('QnA 데이터를 불러오는 중 오류:', data.message);
                }
            } catch (error) {
                console.error('서버 연결 오류:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', loadQnAs);
    </script>
</head>
<body>
    <div class="header">
        <div class="logo" onclick="location.href='index.html'">WED</div>
        <div class="menu">
            <a href="clothes.jsp">상의</a>
            <a href="pants.jsp">하의</a>
            <a href="shoes.jsp">신발</a>
            <a href="accecarry.jsp">악세서리</a>
        </div>
        <div class="user-options">
            <!-- 문의하기 버튼 -->
            <div class="inquiry">문의하기</div>
            <!-- 로그인/회원가입 버튼 영역 -->
            <div class="login-signup">
                <!-- 로그인 페이지 링크 -->
                <span onclick="location.href='login.html'">로그인</span>
                <!-- 구분선 -->
                <span class="separator"></span>
                <!-- 회원가입 페이지 링크 -->
                <span onclick="location.href='signup.html'">회원가입</span>
            </div>
        </div>
    </div>

    <div id="qna-container" class="qna-container">
        <!-- QnA 데이터가 여기에 표시됩니다 -->
    </div>
</body>
</html>
